# ğŸš€ Configuration Background Agent Cursor - ADS SaaS

## ğŸ“‹ Contexte du Projet

ADS SaaS est une plateforme complÃ¨te de gestion de campagnes publicitaires construite avec :
- **Frontend** : Next.js 14 + TypeScript + Tailwind CSS + Framer Motion
- **Backend** : Node.js + Express.js + Prisma + PostgreSQL
- **Infrastructure** : Docker + Nginx + Prometheus + Grafana
- **Paiements** : Stripe intÃ©grÃ©
- **Monitoring** : SystÃ¨me complet d'observabilitÃ©

## ğŸ¯ RÃ¨gles de DÃ©veloppement

### Architecture
- Respecter l'architecture modulaire existante
- Utiliser les patterns Ã©tablis dans le projet
- Maintenir la sÃ©paration client/server
- Suivre les conventions de nommage TypeScript

### Code Quality
- Toujours utiliser TypeScript avec types stricts
- ImplÃ©menter la gestion d'erreurs appropriÃ©e
- Ajouter des commentaires pour les logiques complexes
- Respecter les standards ESLint/Prettier

### SÃ©curitÃ©
- Valider toutes les entrÃ©es utilisateur
- Utiliser les middlewares d'authentification existants
- Respecter les principes de sÃ©curitÃ© OWASP
- Ne jamais exposer de secrets dans le code

### Performance
- Optimiser les requÃªtes de base de donnÃ©es
- ImplÃ©menter le cache quand appropriÃ©
- Minimiser les bundles JavaScript
- Utiliser les optimisations Next.js

## ğŸ› ï¸ Stack Technique

### Frontend (client/)
- **Framework** : Next.js 14 avec App Router
- **Styling** : Tailwind CSS + CSS Modules si nÃ©cessaire
- **Animations** : Framer Motion pour les transitions
- **State** : React Context + Hooks
- **Forms** : React Hook Form + Zod validation
- **Charts** : Chart.js pour les analytics

### Backend (server/)
- **Framework** : AdonisJS avec TypeScript
- **Database** : Prisma ORM + SQLite (dev) / PostgreSQL (prod)
- **Auth** : JWT avec refresh tokens
- **Validation** : Zod pour les schÃ©mas
- **API** : RESTful avec documentation Swagger

### Infrastructure
- **Containerisation** : Docker + Docker Compose
- **Reverse Proxy** : Nginx
- **Monitoring** : Prometheus + Grafana
- **SSL** : Let's Encrypt automatique
- **CI/CD** : GitHub Actions

## ğŸ“ Structure des Dossiers

```
ADS/
â”œâ”€â”€ client/                 # Frontend Next.js
â”‚   â”œâ”€â”€ src/app/           # Pages et layouts (App Router)
â”‚   â”œâ”€â”€ src/components/    # Composants rÃ©utilisables
â”‚   â”œâ”€â”€ src/lib/          # Utilitaires et configurations
â”‚   â””â”€â”€ src/types/        # Types TypeScript
â”œâ”€â”€ server/                # Backend Express.js
â”‚   â”œâ”€â”€ src/routes/       # Routes API
â”‚   â”œâ”€â”€ src/middleware/   # Middlewares
â”‚   â”œâ”€â”€ prisma/          # SchÃ©ma et migrations DB
â”‚   â””â”€â”€ scripts/         # Scripts utilitaires
â”œâ”€â”€ scripts/              # Scripts de dÃ©ploiement
â”œâ”€â”€ docs/                 # Documentation technique
â”œâ”€â”€ monitoring/           # Configuration monitoring
â””â”€â”€ nginx/               # Configuration Nginx
```

## ğŸ”§ Conventions de Code

### TypeScript
- Utiliser des interfaces pour les types d'API
- PrÃ©fÃ©rer `type` pour les unions et intersections
- ImplÃ©menter des types stricts pour les props
- Utiliser des gÃ©nÃ©riques quand appropriÃ©

### React/Next.js
- Utiliser les Server Components par dÃ©faut
- Client Components seulement si nÃ©cessaire
- ImplÃ©menter le loading et error boundaries
- Optimiser les images avec next/image

### API Design
- RESTful avec verbes HTTP appropriÃ©s
- Codes de statut HTTP corrects
- RÃ©ponses JSON cohÃ©rentes
- Documentation Swagger Ã  jour

### Base de DonnÃ©es
- Utiliser Prisma pour toutes les opÃ©rations DB
- CrÃ©er des migrations pour les changements de schÃ©ma
- ImplÃ©menter des seeds pour les donnÃ©es de test
- Optimiser les requÃªtes avec des relations

## ğŸš€ Workflows de DÃ©veloppement

### Nouvelle FonctionnalitÃ©
1. CrÃ©er une branche feature/ depuis main
2. ImplÃ©menter frontend et backend
3. Ajouter tests si nÃ©cessaire
4. Mettre Ã  jour la documentation
5. CrÃ©er une Pull Request

### Correction de Bug
1. CrÃ©er une branche fix/ depuis main
2. Identifier et corriger le problÃ¨me
3. Ajouter un test de rÃ©gression
4. VÃ©rifier que les tests passent
5. CrÃ©er une Pull Request

### DÃ©ploiement
1. Tests automatiques via GitHub Actions
2. Build des images Docker
3. DÃ©ploiement staging automatique
4. Tests de validation
5. DÃ©ploiement production

## ğŸ”’ SÃ©curitÃ© et ConformitÃ©

### Authentification
- JWT avec refresh tokens
- Sessions sÃ©curisÃ©es
- Rate limiting sur les endpoints sensibles
- Validation des permissions par rÃ´le

### DonnÃ©es
- Chiffrement des donnÃ©es sensibles
- Validation stricte des entrÃ©es
- Protection contre les injections SQL
- Audit trail pour les actions critiques

### Infrastructure
- Certificats SSL automatiques
- Firewall et sÃ©curitÃ© rÃ©seau
- Monitoring des tentatives d'intrusion
- Sauvegardes automatiques

## ğŸ“Š Monitoring et ObservabilitÃ©

### MÃ©triques Ã  Surveiller
- Temps de rÃ©ponse des APIs
- Taux d'erreur et disponibilitÃ©
- Utilisation des ressources
- MÃ©triques business (conversions, etc.)

### Alertes
- Services down
- Erreurs 5xx
- Espace disque critique
- Tentatives d'intrusion

## ğŸ¨ UI/UX Guidelines

### Design System
- Utiliser les composants existants
- Respecter la palette de couleurs
- Maintenir la cohÃ©rence visuelle
- Optimiser pour mobile-first

### AccessibilitÃ©
- Support des lecteurs d'Ã©cran
- Navigation au clavier
- Contraste des couleurs
- Textes alternatifs pour les images

## ğŸ“š Documentation

### Code
- Commentaires pour les logiques complexes
- JSDoc pour les fonctions publiques
- README Ã  jour pour chaque module
- Exemples d'utilisation

### API
- Documentation Swagger complÃ¨te
- Exemples de requÃªtes/rÃ©ponses
- Codes d'erreur documentÃ©s
- Guide d'intÃ©gration

### DÃ©ploiement
- Instructions d'installation
- Configuration d'environnement
- Guide de troubleshooting
- ProcÃ©dures de rollback

## ğŸ”„ Maintenance

### Mises Ã  Jour
- Maintenir les dÃ©pendances Ã  jour
- Tester les mises Ã  jour majeures
- Documenter les changements breaking
- Planifier les migrations

### Performance
- Monitoring continu des performances
- Optimisation des requÃªtes DB
- Cache stratÃ©gique
- Compression des assets

---

**Note** : Ce fichier .cursorrules guide le Background Agent Cursor pour fournir une assistance contextuelle et cohÃ©rente avec l'architecture et les standards du projet ADS SaaS. # Configuration Background Agent Cursor - Tue Jul  8 02:06:33 CEST 2025
